<?php
use Illuminate\Database\Migrations\Migration; use Illuminate\Database\Schema\Blueprint; use Illuminate\Support\Facades\Schema;
return new class extends Migration { public function up(): void { Schema::table('invoices', function(Blueprint $t){ $t->string('payment_proof_path',255)->nullable()->after('meta'); $t->timestamp('proof_uploaded_at')->nullable()->after('payment_proof_path'); $t->foreignId('verified_by')->nullable()->after('proof_uploaded_at')->constrained('admins')->nullOnDelete(); $t->timestamp('verified_at')->nullable()->after('verified_by'); $t->string('verification_note',255)->nullable()->after('verified_at'); }); } public function down(): void { Schema::table('invoices', function(Blueprint $t){ $t->dropColumn(['payment_proof_path','proof_uploaded_at','verified_by','verified_at','verification_note']); }); } };